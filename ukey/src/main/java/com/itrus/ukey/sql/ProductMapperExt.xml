<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.itrus.ukey.db.ProductMapper">
    <select id="selectValidByExample" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    	pro.id,
    	pro.create_time,
    	pro.idx,
    	pro.info,
    	pro.name,
    	pro.type
    from 
    	product pro 
    JOIN 
    	version ver 
    on (pro.id=ver.product and ver.status='valid') 
    GROUP BY pro.id
  </select>  
  <select id="selectIdByExample" parameterType="com.itrus.ukey.db.ProductExample" resultType="long">
    select
    <if test="distinct">
      distinct
    </if>
    	id
    from product
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
</mapper>